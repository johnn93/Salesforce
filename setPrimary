trigger setPrimary on Contact (before insert,before update) {
	List<Id> accounts=new List<Id>();
   	for(contact c: Trigger.New){
        if( c.AccountId!=Null)
            accounts.add(c.AccountId);
    }
        List<contact> contacts= [select id, Is_Primary_Contact__c from contact WHERE Is_Primary_Contact__c= true AND AccountId IN:accounts];
     for(contact c:trigger.New){
        if(c.Is_Primary_contact__c==true){
            for(contact con: contacts){
                con.Is_Primary_contact__c=false;
            }
            update contacts;
        }
         
    }
    
}
